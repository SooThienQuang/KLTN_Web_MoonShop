@model IEnumerable<KLTN_Web_MoonShop.Models.ProductType>

@{
    ViewBag.Title = "List";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<div class="card-body">
    <h5 class="card-title">Recent Sales <span>| Today</span></h5>
    @*<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
            Thêm mới
        </button>*@
    <a class="btn btn-primary" onclick="ConfirmUpdate(0)">Thêm mới </a>
    <table class="table table-borderless datatable">
        <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Tên loại sản phẩm</th>
                <th scope="col"> Trạng thái</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {

                <tr>

                    <th scope="row"><a href="#">@item.proTypeID</a></th>
                    <td>@item.proTypeName</td>

                    <td>
                        @if (item.isActive == 1)
                        {
                            <h5>
                                Hoạt động
                            </h5>
                        }
                        else
                        {
                            <h5>
                                Đã ngưng
                            </h5>
                        }
                    </td>
                    <td>
                        <a class="btn btn-danger" onclick="ConfirmDelete(@item.proTypeID)">Xóa </a>
                        <a class="btn btn-primary" onclick="ConfirmUpdate(@item.proTypeID)">Sửa </a>
                    </td>
                </tr>





            }
        </tbody>


    </table>

</div>
<div id="divid" style="height:100px; width:400px" ;>
</div>
<script>
    var ConfirmUpdate = function (productID) {
        $("#hiddenEmployeeId").val(productID);
        var empId = $("#hiddenEmployeeId").val();
        //$.ajax({
        //    type: "GET",
        //    url: "/Admin/UpdateProduct",
        //    data: { id: empId }


        //})
        var url = '@Url.Action("AddOrUpdate", "ProductType", new {id = "data"})';
        $('#divid').load(url.replace('data', empId));

    }


    var ConfirmDelete = function (productID) {
        $("#hiddenEmployeeId").val(productID);
        $("#txtidpro").val(productID);
        $("#myModal1").modal('show');

    }
    var HideModalDel = function () {

        $("#myModal1").modal("hide");

    }
    var DeleteEmployee = function () {
        var empId = $("#hiddenEmployeeId").val();
        $.ajax({

            type: "POST",
            url: "/ProductType/Delete",
            data: { id: empId },
            success: function (result) {
                $("#myModal1").modal("hide");
                $("#row_" + empId).remove();

            }

        })

    }



</script>

<input type="hidden" id="hiddenEmployeeId" />
<div class="modal fade" id="myModal1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <a href="#" class="close" data-dismiss="modal">&times;</a>
                <h3 class="modal-title">Thông báo</h3>
            </div>
            <div class="modal-body">
                <h4>Bạn có chắc chắn muốn thực hiện thao tác này </h4>
                <input class="form-control" id="txtidpro" />


            </div>
            <div class="modal-footer">
                <a href="#" class="btn btn-default" onclick="HideModalDel()">Cancel</a>
                <a href="#" class="btn btn-success" onclick="DeleteEmployee()">Confirm</a>
            </div>

        </div>

    </div>

</div>